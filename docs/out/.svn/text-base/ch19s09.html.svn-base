<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>9.&nbsp;LIMS Test Protocol - Automated</title><link rel="stylesheet" href="html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.68.1"><link rel="start" href="index.html" title="LIMS Help Pages"><link rel="up" href="ch19.html" title="Chapter&nbsp;19.&nbsp;Development"><link rel="prev" href="ch19s08.html" title="8.&nbsp;LIMS Test Protocol - Scanner"><link rel="next" href="ch19s10.html" title="10.&nbsp;LIMS Test Protocol - on Production database (no DB updates)"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">9.&nbsp;LIMS Test Protocol - Automated</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch19s08.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;19.&nbsp;Development</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch19s10.html">Next</a></td></tr></table><hr></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e9408"></a>9.&nbsp;LIMS Test Protocol - Automated</h2></div></div></div><table border="1" style="width: 100%"><tr bgcolor="#AAA" style="background-color: #CCC;"><td style="width: 50%;"><span class="emphasis"><em>LIMS Development Test Plan</em></span></td><td style="width: 5%;"><span class="emphasis"><em>Tested</em></span></td><td style="width: 10%;"><span class="emphasis"><em>Date</em></span></td><td style="width: 10%;"><span class="emphasis"><em>Expected Response</em></span></td><td style="width: 5%;"><span class="emphasis"><em>P/F</em></span></td><td style="width: 10%;"><span class="emphasis"><em>Notes</em></span></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td style="background-color: #CCC;"><span class="emphasis"><em>Login page</em></span></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td width="">Log in to the seqdev database</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>If incorrect password entered, user is asked to login again.</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Links to Production Version and Previous Version works.</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Reduced version of Login page shows up if login as user 'Auto' and no activity in last 5 mins.</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td style="background-color: #CCC;"><span class="emphasis"><em>Tab Bar and Department Home Pages</em></span></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td style="background-color: #CCC;"><span class="emphasis"><em>Check all department home pages are properly shown.</em></span></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Check all icons to the other pages are working.</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Check all Quick Links are working.</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td style="background-color: #CCC;"><span class="emphasis"><em>Identification/Scanning</em></span></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>scan employee</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>scan employee with password -&gt; relogin as a new user</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>scan equipment</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>scan rack</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>scan plate</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>scan solution/reagent</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>scan multiple solution/reagents -&gt; displays empty solution, print barcode, start QC</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>pressing start QC sets the QC_Status from N/A to pending -&gt; displays Pass QC and Fail QC buttons</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>pressing Pass QC sets the QC_Status to Passed -&gt; can mix or apply to plates</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>pressing Fail QC sets the QC_Status to Failed</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>scan multiple solution/reagents -&gt; mixture page if QC_Status is Passed or N/A</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>scan plates/equipment -&gt; sample sheet generator</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>scan invalid barcode -&gt; 'Unrecognized Barcode' message displayed to the user.</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td style="background-color: #CCC;"><span class="emphasis"><em>Plate Set -&gt; retrieve a plate set</em></span></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>If plate set number is valid -&gt; User is redirected to the protocol home page.</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>If plate set number is invalid -&gt; 'Invalid Plate Set' message displayed to the user.</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Print Text Label -&gt; print barcode</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Error Notification -&gt; the error is submitted to the Issues Tracker and email notification sent to the developer.</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td style="background-color: #CCC;"><span class="emphasis"><em>Source pooling</em></span></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Scan in multiple Sources</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Pool specific amounts as well as the entire amount of each Source</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Verify that newly created Source is a Hybrid and has links to parent Sources</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td style="background-color: #CCC;"><span class="emphasis"><em>Reagents page</em></span></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Mix standard solutions (check Mixture table)</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Delete or Annotate Recent Plate (check deleting the plates also delete the corresponding plate set)</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Fail and Throw out a plate at the same time</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Test mirroring and re-analyse runs requests.</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Log in with LDAP/Plone password</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td style="background-color: #CCC;"><span class="emphasis"><em>Database upgrade:</em></span></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Create a testing database consist of the latest database schema of the production database.</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Run upgrade_DB.pl to make sure upgrade ran without errors and the database schema is properly modified.</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td style="background-color: #CCC;"><span class="emphasis"><em>Cron jobs/background processes - these should be monitored on a regular basis after the release is made:</em></span></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>update_sequence.pl - sequences are analysed and last 24 hours page is updated.</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Try 'Regenerate Analysis for these runs' and 'Re-Mirror all machines' links</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>seqmirror - sample sheets and trace files are mirrored on a regular basis.</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>backup_DB.pl - the sequence database is dumped a regular basis and the Clone_Sequence table is dumped during the last dump of the day.</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>restore_DB.pl</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>The seqlast and seqtest databases on seqdb01 are restored daily.</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>The sequence database on lims-dbm is also restored daily.</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>code_sync.pl - code of the production version are synchornized from /opt/sequence to /home/sequence on a regular basis.</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>cat_vectors.pl - the vector file is checked on a regular basis and if new vectors are found then the file will be recreated.</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>update_library_list.pl - the library_list file is updated on a regular basis.</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>backup_RDB - verify that binary logs are backed up successful</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>cleanup.pl - verify that old binary logs are archived</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td style="background-color: #CCC;"><span class="emphasis"><em>SequenceRun Experiment</em></span></td></tr><tr><td>Scan 4x96well / 2x384well / 1 Tray Plate and a sequencer to generate sample sheets for them</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Try to generate sample sheets with Plates that do not have a Primer applied or use Sequencers that do not have a Matrix or a Buffer. This should warn the user and stop the process</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Try to generate sample sheets for a plate where Vector/Primer combination is not found in the database. This should warn the user and stop the process</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Ensure the batch comments entered are recorded as SequenceBatch_Comments</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Ensure the Run_Test_Status is set correctly for each individual Run</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Try generating a sample sheet for a given version by specifying the version. Make sure the new Sample Sheet has replaced the old one.</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Ensure that the file extension for the Sample Sheets is correct given a Sequencer</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Ensure that if the sample sheet generation fails along the way, the database and filesystem are left unaffected</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Ensure Primers linked correctly</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Ensure RunBatch/Run/SequenceRun are linked correctly</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Check the Run_Attribute table for recorded attributes if any</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Ensure parameters are auto-set</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td><div class="orderedlist"><ol type="1"><li><p>Goto Test Database, make sure directory structure /home/sequence/alDente/test/Projects, mirror, archive is correct.</p></li><li><p>Find a previously sequenced Plate</p></li><li><p>Append an '_' to the end of it's Run_Directory (Run_Directory has unique key) in the database</p></li><li><p>Create Sample Sheet for that Plate and Equipment</p></li><li><p>Copy raw files (Run_* directorys) from where the symlink to /home/sequence/alDente/test/mirror/[sequencer]/[#]/data1/Data/</p></li><li><p>Run ./setup.pl and change the mirror directory to /home/sequence/alDente/test/mirror/ and change the archived directory to /home/sequence/alDente/test/archived/</p></li><li><p>Run ./update_sequence -D testserver:testdb -s run_number -f</p></li><li><p>Make sure the sleep code is uncommented in alDente::Post::run_crossmatch() in order to allow time to overwrite the phredscores.screen file in the phd_dir directory. (This is because cross_match does not create the .screen file when executed on /home/sequence/alDente/test/...)</p></li><li><p>Let the update_sequence finish. Compare results such as Run Maps and Statistics</p></li></ol></div></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td style="background-color: #CCC;"><span class="emphasis"><em>SequenceRun Experiment Deletions</em></span></td></tr><tr><td>Check the functionality of Sample sheets removal -&gt; Remove SequenceRun Request</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td>Summary of Run information</td><td></td><td></td></tr></table></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch19s08.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch19.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch19s10.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">8.&nbsp;LIMS Test Protocol - Scanner&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;10.&nbsp;LIMS Test Protocol - on Production database (no DB updates)</td></tr></table></div></body></html>