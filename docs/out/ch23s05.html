<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>5.&nbsp;SDB::GSDB.pm</title><link rel="stylesheet" href="html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.68.1"><link rel="start" href="index.html" title="LIMS Help Pages"><link rel="up" href="ch23.html" title="Chapter&nbsp;23.&nbsp;Modules"><link rel="prev" href="ch23s04.html" title="4.&nbsp;Sequencing Modules"><link rel="next" href="ch23s06.html" title="6.&nbsp;SDB::DB_Form_Viewer.pm"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5.&nbsp;SDB::GSDB.pm</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch23s04.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;23.&nbsp;Modules</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch23s06.html">Next</a></td></tr></table><hr></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e17013"></a>5.&nbsp;SDB::GSDB.pm</h2></div></div></div><p>The GSDB module is designed to act as a data retrieval module for a SQL database.</p><p>Some of the primary functions include:</p><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><h3><a name="d0e17023"></a>Data retrieval functions</h3><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><pre class="programlisting">%Data = Table_retrieve($dbh,$tables,\@fields,$condition)</pre></li><li style="list-style-type: circle"><pre class="programlisting">@data = Table_find($dbh,$table,$fields,$condition) - a simpler, slightly faster version</pre></li></ul></div><div class="example"><a name="d0e17032"></a><p class="title"><b>Example&nbsp;23.1.&nbsp;Example (showing sample code with and without using module):</b></p><pre class="programlisting">my $query = "SELECT Employee_Name,Email_Address FROM Employee WHERE Employee_Status like 'Active'"; 
my $sth = $dbh-&gt;prepare($query); 
$sth-&gt;execute(); 

if (defined $sth-&gt;err()) { 
   print "problem executing query $query"; 
} 
if ($sth-&gt;rows) { 
   $Farray = $sth-&gt;fetchall_arrayref(); 
   $sth-&gt;finish(); 
   my $index=0; 
   while (defined $Farray-&gt;[$index]) { 
      my $name = $Farray-&gt;[$index][0]; 
      my $address = $Farray-&gt;[$index][1]; 
      push(@employees,"$name,$address); 
   } $index++; 
}
print join "\n",@employees;</pre><pre class="programlisting">my @employees = &amp;Table_find($dbh,'Employee','Employee_Name,Email_Address', "where Employee_Status = 'Active'"); 
print join "\n",@employees;</pre></div></li><li style="list-style-type: circle"><h3><a name="d0e17042"></a>Functions to update or append the database:</h3><div class="itemizedlist"><ul type="opencircle"><li style="list-style-type: circle"><pre class="programlisting">$ok = Table_copy($dbh,$table,$condition);</pre></li><li style="list-style-type: circle"><pre class="programlisting">Table_update($dbh,$table,\@fields,\@values,$condition);</pre></li><li style="list-style-type: circle"><pre class="programlisting">Table_append($dbh,$table,\@fields,\@values);</pre></li><li style="list-style-type: circle"><pre class="programlisting">delete_records($dbh,$table,$condition);</pre></li></ul></div><p>These functions perform integrity checking functions automatically to ensure that references are not broken, by enforcing foreign key validity during updates, deletions, and additions of data. This is crucial in maintaining the overall integrity of data within a mySQL database. By forcing all database changes through these filters, breaks to data integrity may be minimized without requiring this time consuming checking to be carried out each time the database is updated.</p></li><li style="list-style-type: circle"><h3><a name="d0e17060"></a>general information retrieving functions:</h3><pre class="programlisting">$info = get_FK_info($dbh,$field,$id);
$id = get_FK_ID($dbh,$field,$info);
@fields = get_fields($dbh,$table);
@prompts = get_prompts($dbh,$table);</pre><p>These functions are simply useful within the scope of perl code where this type of information is often required.</p></li></ul></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch23s04.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch23.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch23s06.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">4.&nbsp;Sequencing Modules&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;6.&nbsp;SDB::DB_Form_Viewer.pm</td></tr></table></div></body></html>