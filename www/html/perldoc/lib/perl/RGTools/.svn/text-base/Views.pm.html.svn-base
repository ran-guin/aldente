<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Views.pm</title>
<link rev="made" href="mailto:root@localhost" />
</head>

<style type="text/css">
<!--
/* default style sheet generated by perltidy */
body {background: #FFFFFF; color: #000000}
pre { color: #000000; 
      background: #F0F0F0;
      font-family: courier;
    } 

.c  { color: #228B22;} /* comment */
.cm { color: #000000;} /* comma */
.co { color: #000000;} /* colon */
.h  { color: #CD5555; font-weight:bold;} /* here-doc-target */
.hh { color: #CD5555; font-style:italic;} /* here-doc-text */
.i  { color: #00688B;} /* identifier */
.j  { color: #CD5555; font-weight:bold;} /* label */
.k  { color: #8B008B; font-weight:bold;} /* keyword */
.m  { color: #FF0000; font-weight:bold;} /* subroutine */
.n  { color: #B452CD;} /* numeric */
.p  { color: #000000;} /* paren */
.pd { color: #228B22; font-style:italic;} /* pod-text */
.pu { color: #000000;} /* punctuation */
.q  { color: #CD5555;} /* quote */
.s  { color: #000000;} /* structure */
.sc { color: #000000;} /* semicolon */
.v  { color: #B452CD;} /* v-string */
.w  { color: #000000;} /* bareword */
-->
</style>
<body style="background-color: white">
<a name="-top-"></a>
<h1>Views.pm</h1>

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->

<ul>

	<li><a href="#name__uplink_">NAME &lt;UPLINK&gt;</a></li>
	<li><a href="#synopsis__uplink_">SYNOPSIS &lt;UPLINK&gt;</a></li>
	<li><a href="#description__uplink_">DESCRIPTION &lt;UPLINK&gt;</a></li>
	<li><a href="#known_issues__uplink_">KNOWN ISSUES &lt;UPLINK&gt;</a></li>
	<li><a href="#future_improvements__uplink_">FUTURE IMPROVEMENTS &lt;UPLINK&gt;</a></li>
	<li><a href="#authors__uplink_">AUTHORS &lt;UPLINK&gt;</a></li>
	<li><a href="#created__uplink_">CREATED &lt;UPLINK&gt;</a></li>
	<li><a href="#revision__uplink_">REVISION &lt;UPLINK&gt;</a></li>
</ul>
<!-- INDEX END -->
<h2>Code Index:</h2>
<!-- BEGIN CODE INDEX --><a name="code-index"></a>
<ul>
<li><a href="#package-Views-">package Views</a>
<ul>
<li><a href="#Draw_Map-">Draw_Map</a></li>
<li><a href="#html_highlight-">html_highlight</a></li>
<li><a href="#Heading-">Heading</a></li>
<li><a href="#sub_Heading-">sub_Heading</a></li>
<li><a href="#small_type-">small_type</a></li>
<li><a href="#Print_Page-">Print_Page</a></li>
<li><a href="#filter_header-">filter_header</a></li>
<li><a href="#Table_Print-">Table_Print</a></li>
</ul>
</li>
<li><a href="#EOF-">EOF</a></li>
</ul>
<!-- END CODE INDEX -->

<hr />
<pre><span class="c">################################################################################</span>
<span class="c"># Views.pm</span>
<span class="c">#</span>
<span class="c"># This facilitates automatic viewing in HTML view..</span>
<span class="c">#</span>
<span class="c">################################################################################</span>
<span class="c">################################################################################</span>
<span class="c"># $Id: Views.pm,v 1.22 2004/10/08 00:21:40 rguin Exp $</span>
<span class="c">################################################################################</span>
<span class="c"># CVS Revision: $Revision: 1.22 $</span>
<span class="c">#     CVS Date: $Date: 2004/10/08 00:21:40 $</span>
<span class="c">################################################################################</span>
<a name="package-Views-"></a><span class="k">package </span><span class="i">Views</span><span class="sc">;</span>

<span class="c">##############################</span>
<span class="c"># perldoc_header             #</span>
<span class="c">##############################</span>

</pre><p></p>
<hr />
<h1><a name="name__uplink_">NAME &lt;UPLINK&gt;</a></h1>
<p>Views.pm - This facilitates automatic viewing in HTML view..</p>
<p>
</p>
<hr />
<h1><a name="synopsis__uplink_">SYNOPSIS &lt;UPLINK&gt;</a></h1>
<pre>
        &lt;&lt;SYNOPSIS&gt;&gt;</pre>
<p>
</p>
<hr />
<h1><a name="description__uplink_">DESCRIPTION &lt;UPLINK&gt;</a></h1>
This facilitates automatic viewing in HTML view..<BR><pre>
<span class="c">##############################</span>
<span class="c"># superclasses               #</span>
<span class="c">##############################</span>
<span class="c">##############################</span>
<span class="c"># system_variables           #</span>
<span class="c">##############################</span>
<span class="c">#require Exporter;</span>
<span class="c">#@EXPORT = qw(</span>
<span class="c">#	     Draw_Map</span>
<span class="c">#	     Mini_Histogram</span>
<span class="c">#	     html_highlight</span>
<span class="c">#	     Heading</span>
<span class="c">#	     sub_Heading</span>
<span class="c">#	     small_type</span>
<span class="c">#	     Print_Page</span>
<span class="c">#	     filter_header</span>
<span class="c">#	     Table_Print</span>
<span class="c">#	     );</span>
<span class="c">#@EXPORT_OK = qw(</span>
<span class="c">#		Table_Print</span>
<span class="c">#		);</span>

<span class="c">##############################</span>
<span class="c"># standard_modules_ref       #</span>
<span class="c">##############################</span>

<span class="k">use</span> <span class="w">GD</span><span class="sc">;</span>
<span class="k">use</span> <span class="w">CGI</span> <span class="q">qw(:standard)</span><span class="sc">;</span>
<span class="k">use</span> <span class="w">Data::Dumper</span><span class="sc">;</span>
<span class="k">use</span> <span class="w">strict</span><span class="sc">;</span>

<span class="c">##############################</span>
<span class="c"># custom_modules_ref         #</span>
<span class="c">##############################</span>
<span class="c">##############################</span>
<span class="c"># global_vars                #</span>
<span class="c">##############################</span>
<span class="c">##############################</span>
<span class="c"># modular_vars               #</span>
<span class="c">##############################</span>
<span class="c">##############################</span>
<span class="c"># constants                  #</span>
<span class="c">##############################</span>
<span class="c">##############################</span>
<span class="c"># main_header                #</span>
<span class="c">##############################</span>
<span class="c">##############################</span>
<span class="c"># constructor                #</span>
<span class="c">##############################</span>
<span class="c">##############################</span>
<span class="c"># public_methods             #</span>
<span class="c">##############################</span>
<span class="c">##############################</span>
<span class="c"># public_functions           #</span>
<span class="c">##############################</span>

<a name="Draw_Map-"></a><span class="k">sub </span><span class="m">Draw_Map</span> <span class="s">{</span>
    <span class="c">###################</span>
    <span class="c">#</span>
    <span class="c"># Draw 'traffic light' map ($rows x $cols).</span>
    <span class="c"># Save as $filename;</span>
    <span class="c"># (specify $border, size of each element...)</span>
    <span class="c">#</span>
    <span class="c"># if very small prints elements as squares - otherwise circles...</span>
    <span class="c">#</span>

    <span class="k">my</span> <span class="i">$filename</span> = <span class="k">shift</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$rows</span>     = <span class="k">shift</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$cols</span>     = <span class="k">shift</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$matrix</span>   = <span class="k">shift</span><span class="sc">;</span>

    <span class="k">my</span> <span class="i">$each</span> = <span class="s">(</span> <span class="k">defined</span> <span class="i">$_</span>[<span class="n">0</span>] <span class="s">)</span> ? <span class="i">$_</span>[<span class="n">0</span>] <span class="co">:</span> <span class="n">5</span><span class="sc">;</span>    <span class="c">### size of each element of matrix in image</span>
    <span class="k">my</span> <span class="i">$border</span> = <span class="k">shift</span><span class="sc">;</span>

    <span class="k">my</span> <span class="i">@elements</span> = <span class="i">@$matrix</span><span class="sc">;</span>

    <span class="c">##### Determine imaga and bin size</span>
    <span class="k">my</span> <span class="i">$max</span> = <span class="n">1000</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$div</span> = <span class="n">100</span><span class="sc">;</span>

    <span class="k">my</span> <span class="i">$shape</span><span class="sc">;</span>
    <span class="k">if</span>   <span class="s">(</span> <span class="i">$each</span> &gt; <span class="n">10</span> <span class="s">)</span> <span class="s">{</span> <span class="i">$shape</span> = <span class="q">'circle'</span><span class="sc">;</span> <span class="s">}</span>
    <span class="k">else</span>                <span class="s">{</span> <span class="i">$shape</span> = <span class="q">'square'</span><span class="sc">;</span> <span class="s">}</span>

    <span class="i">$rows</span> ||= <span class="k">scalar</span><span class="s">(</span><span class="i">@elements</span><span class="s">)</span><span class="sc">;</span>

    <span class="k">my</span> <span class="i">@col</span> = <span class="i">@</span>{ <span class="i">$elements</span>[<span class="n">0</span>] }<span class="sc">;</span>
    <span class="i">$cols</span> ||= <span class="k">scalar</span><span class="s">(</span><span class="i">@col</span><span class="s">)</span><span class="sc">;</span>

    <span class="k">my</span> <span class="i">$x</span> = <span class="i">$cols</span> * <span class="i">$each</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$y</span> = <span class="i">$rows</span> * <span class="i">$each</span><span class="sc">;</span>

    <span class="c"># create a new image</span>
    <span class="k">my</span> <span class="i">$im</span> = <span class="w">new</span> <span class="i">GD::Image</span><span class="s">(</span> <span class="i">$x</span><span class="cm">,</span> <span class="i">$y</span> <span class="s">)</span><span class="sc">;</span>

    <span class="c"># allocate some colors</span>
    <span class="k">my</span> <span class="i">$black</span> = <span class="i">$im</span><span class="i">-&gt;colorAllocate</span><span class="s">(</span> <span class="n">0</span><span class="cm">,</span>   <span class="n">0</span><span class="cm">,</span>   <span class="n">0</span> <span class="s">)</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$white</span> = <span class="i">$im</span><span class="i">-&gt;colorAllocate</span><span class="s">(</span> <span class="n">255</span><span class="cm">,</span> <span class="n">255</span><span class="cm">,</span> <span class="n">255</span> <span class="s">)</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$grey</span>  = <span class="i">$im</span><span class="i">-&gt;colorAllocate</span><span class="s">(</span> <span class="n">100</span><span class="cm">,</span> <span class="n">100</span><span class="cm">,</span> <span class="n">100</span> <span class="s">)</span><span class="sc">;</span>

    <span class="c">#my $NG = $im-&gt;colorAllocate(255,255,255);</span>
    <span class="c"># NGs are black as well</span>
    <span class="k">my</span> <span class="i">$NG</span> = <span class="i">$im</span><span class="i">-&gt;colorAllocate</span><span class="s">(</span> <span class="n">0</span><span class="cm">,</span> <span class="n">0</span><span class="cm">,</span> <span class="n">0</span> <span class="s">)</span><span class="sc">;</span>

    <span class="c"># will never have slow grows assigned (Post.pm ignores slow grow flag)</span>
    <span class="k">my</span> <span class="i">$SG</span> = <span class="i">$im</span><span class="i">-&gt;colorAllocate</span><span class="s">(</span> <span class="n">255</span><span class="cm">,</span> <span class="n">200</span><span class="cm">,</span> <span class="n">200</span> <span class="s">)</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">@colour</span><span class="sc">;</span>

    <span class="c">############# Set up the colour map colours... ##################</span>
    <span class="k">my</span> <span class="i">$Colour</span> = <span class="s">{</span><span class="s">}</span><span class="sc">;</span>
    <span class="i">$Colour</span>-&gt;{<span class="w">Red</span>}   = <span class="s">[</span> <span class="n">0</span><span class="cm">,</span> <span class="n">100</span><span class="cm">,</span> <span class="n">255</span><span class="cm">,</span> <span class="n">240</span><span class="cm">,</span> <span class="n">240</span><span class="cm">,</span> <span class="n">250</span><span class="cm">,</span> <span class="n">160</span><span class="cm">,</span> <span class="n">80</span><span class="cm">,</span>  <span class="n">0</span><span class="cm">,</span>   <span class="n">0</span><span class="cm">,</span>   <span class="n">163</span><span class="cm">,</span> <span class="n">200</span><span class="cm">,</span> <span class="n">255</span> <span class="s">]</span><span class="sc">;</span>    <span class="c">### matches Histogram.pm + black,grey at beginning..</span>
    <span class="i">$Colour</span>-&gt;{<span class="w">Green</span>} = <span class="s">[</span> <span class="n">0</span><span class="cm">,</span> <span class="n">100</span><span class="cm">,</span> <span class="n">0</span><span class="cm">,</span>   <span class="n">100</span><span class="cm">,</span> <span class="n">159</span><span class="cm">,</span> <span class="n">255</span><span class="cm">,</span> <span class="n">240</span><span class="cm">,</span> <span class="n">232</span><span class="cm">,</span> <span class="n">230</span><span class="cm">,</span> <span class="n">134</span><span class="cm">,</span> <span class="n">0</span><span class="cm">,</span>   <span class="n">50</span><span class="cm">,</span>  <span class="n">255</span> <span class="s">]</span><span class="sc">;</span>
    <span class="i">$Colour</span>-&gt;{<span class="w">Blue</span>}  = <span class="s">[</span> <span class="n">0</span><span class="cm">,</span> <span class="n">100</span><span class="cm">,</span> <span class="n">0</span><span class="cm">,</span>   <span class="n">0</span><span class="cm">,</span>   <span class="n">0</span><span class="cm">,</span>   <span class="n">0</span><span class="cm">,</span>   <span class="n">0</span><span class="cm">,</span>   <span class="n">0</span><span class="cm">,</span>   <span class="n">230</span><span class="cm">,</span> <span class="n">234</span><span class="cm">,</span> <span class="n">247</span><span class="cm">,</span> <span class="n">255</span><span class="cm">,</span> <span class="n">255</span> <span class="s">]</span><span class="sc">;</span>

    <span class="k">my</span> <span class="i">$colours</span> = <span class="k">int</span><span class="s">(</span> <span class="i">@</span>{ <span class="i">$Colour</span>-&gt;{<span class="w">Red</span>} } <span class="s">)</span><span class="sc">;</span>
    <span class="k">foreach</span> <span class="k">my</span> <span class="i">$colour</span> <span class="s">(</span> <span class="n">1</span> .. <span class="i">$colours</span> <span class="s">)</span> <span class="s">{</span>
        <span class="k">my</span> <span class="i">$index</span> = <span class="i">$colour</span> - <span class="n">1</span><span class="sc">;</span>
        <span class="i">$colour</span>[<span class="i">$index</span>] = <span class="i">$im</span><span class="i">-&gt;colorAllocate</span><span class="s">(</span> <span class="i">$Colour</span>-&gt;{<span class="w">Red</span>}[<span class="i">$index</span>]<span class="cm">,</span> <span class="i">$Colour</span>-&gt;{<span class="w">Green</span>}[<span class="i">$index</span>]<span class="cm">,</span> <span class="i">$Colour</span>-&gt;{<span class="w">Blue</span>}[<span class="i">$index</span>] <span class="s">)</span><span class="sc">;</span>
    <span class="s">}</span>

    <span class="c">#    $colour[0] = $im-&gt;colorAllocate(0,0,0);        # black</span>
    <span class="c">#    $colour[1] = $im-&gt;colorAllocate(100,100,100);  # gray</span>
    <span class="c">#    $colour[2] = $im-&gt;colorAllocate(250,0,0);      # red</span>
    <span class="c">#    $colour[3] = $im-&gt;colorAllocate(240,100,0);    # orange</span>
    <span class="c">#    $colour[4] = $im-&gt;colorAllocate(240,159,0);    # mustard</span>
    <span class="c">#    $colour[5] = $im-&gt;colorAllocate(250,255,0);    # yellow</span>
    <span class="c">#    $colour[6] = $im-&gt;colorAllocate(160,240,0);    # lime</span>
    <span class="c">#    $colour[7] = $im-&gt;colorAllocate(80,232,0);      # green</span>
    <span class="c">#    $colour[8] = $im-&gt;colorAllocate(0,230,230);      # cyan</span>
    <span class="c">#    $colour[9] = $im-&gt;colorAllocate(0,134,234);      # blue</span>
    <span class="c">#    $colour[10] = $im-&gt;colorAllocate(163,0,247);   # purple</span>

    <span class="k">my</span> <span class="i">$divs</span> = <span class="n">12</span><span class="sc">;</span>

    <span class="c"># make the background transparent and interlaced</span>
    <span class="i">$im</span><span class="i">-&gt;transparent</span><span class="s">(</span><span class="i">$white</span><span class="s">)</span><span class="sc">;</span>
    <span class="i">$im</span><span class="i">-&gt;interlaced</span><span class="s">(</span><span class="q">'true'</span><span class="s">)</span><span class="sc">;</span>

    <span class="k">my</span> <span class="i">$stop</span> = <span class="n">0</span><span class="sc">;</span>
    <span class="k">foreach</span> <span class="k">my</span> <span class="i">$row</span> <span class="s">(</span> <span class="n">1</span> .. <span class="i">$rows</span> <span class="s">)</span> <span class="s">{</span>
        <span class="k">foreach</span> <span class="k">my</span> <span class="i">$col</span> <span class="s">(</span> <span class="n">1</span> .. <span class="i">$cols</span> <span class="s">)</span> <span class="s">{</span>
            <span class="k">my</span> <span class="i">$element</span> = <span class="i">$elements</span>[ <span class="i">$row</span> - <span class="n">1</span> ][ <span class="i">$col</span> - <span class="n">1</span> ]<span class="sc">;</span>
            <span class="k">my</span> <span class="i">$pixel_colour</span><span class="sc">;</span>
            <span class="k">if</span>    <span class="s">(</span> <span class="i">$element</span> &lt; <span class="n">-1</span> <span class="s">)</span> <span class="s">{</span> <span class="i">$pixel_colour</span> = <span class="i">$NG</span><span class="sc">;</span> <span class="s">}</span>    <span class="c">### No Grow</span>
            <span class="k">elsif</span> <span class="s">(</span> <span class="i">$element</span> &lt; <span class="n">0</span> <span class="s">)</span>  <span class="s">{</span> <span class="i">$pixel_colour</span> = <span class="i">$SG</span><span class="sc">;</span> <span class="s">}</span>    <span class="c">## Slow Grow</span>
            <span class="k">elsif</span> <span class="s">(</span> <span class="k">int</span><span class="s">(</span> <span class="i">$element</span> / <span class="i">$div</span> <span class="s">)</span> &gt; <span class="i">$divs</span> <span class="s">)</span> <span class="s">{</span>
                <span class="i">$pixel_colour</span> = <span class="i">$colour</span>[<span class="i">$divs</span>]<span class="sc">;</span>
            <span class="s">}</span>
            <span class="k">elsif</span> <span class="s">(</span> !<span class="k">defined</span> <span class="i">$element</span> <span class="s">)</span> <span class="s">{</span> <span class="i">$pixel_colour</span> = <span class="i">$black</span><span class="sc">;</span> <span class="s">}</span>
            <span class="k">elsif</span> <span class="s">(</span> <span class="i">$element</span> =~ <span class="q">/NULL/</span> <span class="s">)</span> <span class="s">{</span> <span class="i">$pixel_colour</span> = <span class="i">$black</span><span class="sc">;</span> <span class="s">}</span>
            <span class="k">elsif</span> <span class="s">(</span> !<span class="i">$element</span> <span class="s">)</span> <span class="s">{</span> <span class="i">$pixel_colour</span> = <span class="i">$grey</span><span class="sc">;</span> <span class="s">}</span>      <span class="c">### blac ?</span>
            <span class="k">else</span> <span class="s">{</span>
                <span class="i">$pixel_colour</span> = <span class="i">$colour</span>[ <span class="k">int</span><span class="s">(</span> <span class="i">$element</span> / <span class="i">$div</span> <span class="s">)</span> + <span class="n">2</span> ]<span class="sc">;</span>
            <span class="s">}</span>
            <span class="k">my</span> <span class="i">$border_colour</span><span class="sc">;</span>
            <span class="k">if</span>   <span class="s">(</span><span class="i">$border</span><span class="s">)</span> <span class="s">{</span> <span class="i">$border_colour</span> = <span class="i">$black</span><span class="sc">;</span> <span class="s">}</span>
            <span class="k">else</span>           <span class="s">{</span> <span class="i">$border_colour</span> = <span class="i">$pixel_colour</span><span class="sc">;</span> <span class="s">}</span>

            <span class="k">my</span> <span class="i">$x_origin</span> = <span class="s">(</span> <span class="i">$col</span> - <span class="n">1</span> <span class="s">)</span> * <span class="i">$each</span><span class="sc">;</span>
            <span class="k">my</span> <span class="i">$y_origin</span> = <span class="s">(</span> <span class="i">$row</span> - <span class="n">1</span> <span class="s">)</span> * <span class="i">$each</span><span class="sc">;</span>

            <span class="k">if</span> <span class="s">(</span> <span class="i">$shape</span> =~ <span class="q">/circle/i</span> <span class="s">)</span> <span class="s">{</span>
                <span class="k">my</span> <span class="i">$offset</span> = <span class="k">int</span><span class="s">(</span> <span class="i">$each</span> / <span class="n">2</span> <span class="s">)</span><span class="sc">;</span>
                <span class="i">$im</span><span class="i">-&gt;arc</span><span class="s">(</span> <span class="s">(</span> <span class="i">$col</span> - <span class="n">1</span> <span class="s">)</span> * <span class="i">$each</span> + <span class="i">$offset</span><span class="cm">,</span> <span class="s">(</span> <span class="i">$row</span> - <span class="n">1</span> <span class="s">)</span> * <span class="i">$each</span> + <span class="i">$offset</span><span class="cm">,</span> <span class="i">$each</span> - <span class="n">2</span><span class="cm">,</span> <span class="i">$each</span> - <span class="n">2</span><span class="cm">,</span> <span class="n">0</span><span class="cm">,</span> <span class="n">360</span><span class="cm">,</span> <span class="i">$pixel_colour</span> <span class="s">)</span><span class="sc">;</span>
                <span class="i">$im</span><span class="i">-&gt;fill</span><span class="s">(</span> <span class="s">(</span> <span class="i">$col</span> - <span class="n">1</span> <span class="s">)</span> * <span class="i">$each</span> + <span class="i">$offset</span><span class="cm">,</span> <span class="s">(</span> <span class="i">$row</span> - <span class="n">1</span> <span class="s">)</span> * <span class="i">$each</span> + <span class="i">$offset</span><span class="cm">,</span> <span class="i">$pixel_colour</span> <span class="s">)</span><span class="sc">;</span>
            <span class="s">}</span>
            <span class="k">else</span> <span class="s">{</span>
                <span class="i">$im</span><span class="i">-&gt;rectangle</span><span class="s">(</span> <span class="i">$x_origin</span><span class="cm">,</span> <span class="i">$y_origin</span><span class="cm">,</span> <span class="i">$x_origin</span> + <span class="i">$each</span> - <span class="n">1</span><span class="cm">,</span> <span class="i">$y_origin</span> + <span class="i">$each</span> - <span class="n">1</span><span class="cm">,</span> <span class="i">$border_colour</span> <span class="s">)</span><span class="sc">;</span>
                <span class="k">if</span> <span class="s">(</span> <span class="i">$each</span> &gt; <span class="n">2</span> <span class="s">)</span> <span class="s">{</span>
                    <span class="i">$im</span><span class="i">-&gt;rectangle</span><span class="s">(</span> <span class="i">$x_origin</span> + <span class="n">1</span><span class="cm">,</span> <span class="i">$y_origin</span> + <span class="n">1</span><span class="cm">,</span> <span class="i">$x_origin</span> + <span class="i">$each</span> - <span class="n">2</span><span class="cm">,</span> <span class="i">$y_origin</span> + <span class="i">$each</span> - <span class="n">2</span><span class="cm">,</span> <span class="i">$pixel_colour</span> <span class="s">)</span><span class="sc">;</span>
                    <span class="i">$im</span><span class="i">-&gt;fill</span><span class="s">(</span> <span class="i">$x_origin</span> + <span class="n">2</span><span class="cm">,</span> <span class="i">$y_origin</span> + <span class="n">2</span><span class="cm">,</span> <span class="i">$pixel_colour</span> <span class="s">)</span><span class="sc">;</span>
                <span class="s">}</span>
            <span class="s">}</span>
        <span class="s">}</span>
    <span class="s">}</span>
    <span class="k">binmode</span> <span class="w">STDOUT</span><span class="sc">;</span>
    <span class="k">if</span> <span class="s">(</span><span class="i">$filename</span><span class="s">)</span> <span class="s">{</span>
        <span class="k">open</span><span class="s">(</span> <span class="w">PNGIMAGE</span><span class="cm">,</span> <span class="q">&quot;&gt;$filename&quot;</span> <span class="s">)</span> <span class="k">or</span> <span class="k">warn</span> <span class="q">&quot;Can't open $filename&quot;</span><span class="sc">;</span>

        <span class="c"># Convert the image to PNG and print it on standard output</span>
        <span class="k">print</span> <span class="i">PNGIMAGE</span> <span class="i">$im</span><span class="i">-&gt;png</span><span class="sc">;</span>
        <span class="k">close</span><span class="s">(</span><span class="w">PNGIMAGE</span><span class="s">)</span> <span class="k">or</span> <span class="k">warn</span> <span class="q">&quot;problem closing&quot;</span><span class="sc">;</span>
    <span class="s">}</span>
    <span class="k">else</span> <span class="s">{</span>
        <span class="i">$im</span><span class="i">-&gt;png</span><span class="sc">;</span>
    <span class="s">}</span>
    <span class="k">return</span> <span class="s">(</span> <span class="i">$rows</span><span class="cm">,</span> <span class="i">$cols</span> <span class="s">)</span><span class="sc">;</span>
<span class="s">}</span>

<span class="c">#############</span>
<a name="html_highlight-"></a><span class="k">sub </span><span class="m">html_highlight</span> <span class="s">{</span>
<span class="c">#############</span>
    <span class="k">my</span> <span class="i">$text</span> = <span class="k">shift</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$colour</span> = <span class="k">shift</span> || <span class="q">'red'</span><span class="sc">;</span>

    <span class="k">return</span> <span class="q">&quot;&lt;B&gt;&lt;Font color=$colour&gt;$text&lt;/Font&gt;&lt;/B&gt;&quot;</span><span class="sc">;</span>
<span class="s">}</span>

<span class="c">#################</span>
<a name="Heading-"></a><span class="k">sub </span><span class="m">Heading</span> <span class="s">{</span>
<span class="c">#################</span>
    <span class="c">#</span>
    <span class="c"># Print heading in html format</span>
    <span class="c">#</span>
    <span class="k">my</span> <span class="i">$text</span> = <span class="k">shift</span> || <span class="q">''</span><span class="sc">;</span>

    <span class="c">#  my $spec = shift || &quot;bgcolor='#999999' &quot;;</span>
    <span class="k">my</span> <span class="i">$spec</span>  = <span class="k">shift</span> || <span class="q">&quot;bgcolor='#BBBBBB' &quot;</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$width</span> = <span class="k">shift</span> || <span class="q">'100%'</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$align</span> = <span class="k">shift</span> || <span class="q">''</span><span class="sc">;</span>

    <span class="k">if</span> <span class="s">(</span><span class="i">$align</span><span class="s">)</span> <span class="s">{</span> <span class="i">$spec</span> .= <span class="q">&quot; align=$align &quot;</span><span class="sc">;</span> <span class="s">}</span>

    <span class="k">my</span> <span class="i">$padding</span>  = <span class="s">(</span> <span class="k">defined</span> <span class="i">$_</span>[<span class="n">0</span>] <span class="s">)</span> ? <span class="i">$_</span>[<span class="n">0</span>] <span class="co">:</span> <span class="n">4</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$spacing</span>  = <span class="k">shift</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$no_new_p</span> = <span class="k">shift</span><span class="sc">;</span>                           <span class="c">#No new paragraph after the heading.</span>

    <span class="k">if</span> <span class="s">(</span><span class="i">$width</span><span class="s">)</span>             <span class="s">{</span> <span class="i">$width</span>   = <span class="q">&quot;width=$width&quot;</span> <span class="s">}</span>
    <span class="k">if</span> <span class="s">(</span> <span class="k">defined</span> <span class="i">$padding</span> <span class="s">)</span> <span class="s">{</span> <span class="i">$padding</span> = <span class="q">&quot;cellpadding=$padding&quot;</span> <span class="s">}</span>
    <span class="k">if</span> <span class="s">(</span> <span class="k">defined</span> <span class="i">$spacing</span> <span class="s">)</span> <span class="s">{</span> <span class="i">$spacing</span> = <span class="q">&quot;cellspacing=$spacing&quot;</span> <span class="s">}</span>

    <span class="k">my</span> <span class="i">$ret_val</span> = <span class="q">&quot;&lt;Table $width $padding $spacing&gt;\n&lt;tr&gt;\n&lt;td $spec&gt;&lt;span class='larger'&gt;$text&lt;/span&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;&quot;</span><span class="sc">;</span>
    <span class="k">unless</span> <span class="s">(</span><span class="i">$no_new_p</span><span class="s">)</span> <span class="s">{</span> <span class="i">$ret_val</span> .= <span class="q">&quot;&lt;p&gt;&quot;</span> <span class="s">}</span>
    <span class="i">$ret_val</span> .= <span class="q">&quot;\n\n&quot;</span><span class="sc">;</span>

    <span class="k">return</span> <span class="i">$ret_val</span><span class="sc">;</span>
<span class="s">}</span>

<span class="c">#################</span>
<a name="sub_Heading-"></a><span class="k">sub </span><span class="m">sub_Heading</span> <span class="s">{</span>
<span class="c">#################</span>
    <span class="c">#</span>
    <span class="c"># Print heading in html format</span>
    <span class="c">#</span>
    <span class="k">my</span> <span class="i">$text</span> = <span class="k">shift</span><span class="sc">;</span>

    <span class="k">my</span> <span class="i">$reduce</span> = <span class="k">shift</span> || <span class="n">0</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$spec</span>   = <span class="k">shift</span> || <span class="q">'class=mediumheader'</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$width</span>  = <span class="k">shift</span> || <span class="q">'100%'</span><span class="sc">;</span>

    <span class="k">my</span> <span class="i">$padding</span>  = <span class="s">(</span> <span class="k">defined</span> <span class="i">$_</span>[<span class="n">0</span>] <span class="s">)</span> ? <span class="i">$_</span>[<span class="n">0</span>] <span class="co">:</span> <span class="n">4</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$spacing</span>  = <span class="s">(</span> <span class="k">defined</span> <span class="i">$_</span>[<span class="n">1</span>] <span class="s">)</span> ? <span class="i">$_</span>[<span class="n">1</span>] <span class="co">:</span> <span class="n">4</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$no_new_p</span> = <span class="s">(</span> <span class="k">defined</span> <span class="i">$_</span>[<span class="n">2</span>] <span class="s">)</span> ? <span class="i">$_</span>[<span class="n">2</span>] <span class="co">:</span> <span class="n">1</span><span class="sc">;</span>
    <span class="sc">;</span>    <span class="c">#No new paragraph after the heading.</span>

    <span class="k">if</span> <span class="s">(</span><span class="i">$width</span><span class="s">)</span>             <span class="s">{</span> <span class="i">$width</span>   = <span class="q">&quot;width=$width&quot;</span> <span class="s">}</span>
    <span class="k">if</span> <span class="s">(</span><span class="i">$padding</span><span class="s">)</span>           <span class="s">{</span> <span class="i">$padding</span> = <span class="q">&quot;cellpadding=$padding&quot;</span> <span class="s">}</span>
    <span class="k">if</span> <span class="s">(</span> <span class="k">defined</span> <span class="i">$spacing</span> <span class="s">)</span> <span class="s">{</span> <span class="i">$spacing</span> = <span class="q">&quot;cellspacing=$spacing&quot;</span> <span class="s">}</span>

    <span class="k">my</span> <span class="i">$ret_val</span> = <span class="q">&quot;&lt;Table $width $padding $spacing&gt;\n&lt;tr&gt;\n&lt;td $spec&gt;&lt;Font size=-$reduce&gt;$text&lt;/Font&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;&quot;</span><span class="sc">;</span>
    <span class="k">unless</span> <span class="s">(</span><span class="i">$no_new_p</span><span class="s">)</span> <span class="s">{</span> <span class="i">$ret_val</span> .= <span class="q">&quot;&lt;p&gt;&quot;</span> <span class="s">}</span>
    <span class="i">$ret_val</span> .= <span class="q">&quot;\n\n&quot;</span><span class="sc">;</span>

    <span class="k">return</span> <span class="i">$ret_val</span><span class="sc">;</span>
<span class="s">}</span>

<span class="c">###################</span>
<a name="small_type-"></a><span class="k">sub </span><span class="m">small_type</span> <span class="s">{</span>
<span class="c">###################</span>
    <span class="k">my</span> <span class="i">$message</span> = <span class="k">shift</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$bold</span>    = <span class="k">shift</span><span class="sc">;</span>

    <span class="k">my</span> <span class="i">$formatted</span> = <span class="q">&quot;&lt;span class=small&gt;&quot;</span><span class="sc">;</span>

    <span class="k">if</span> <span class="s">(</span><span class="i">$bold</span><span class="s">)</span> <span class="s">{</span> <span class="i">$formatted</span> .= <span class="q">&quot;&lt;B&gt;&quot;</span><span class="sc">;</span> <span class="s">}</span>

    <span class="i">$formatted</span> .= <span class="i">$message</span><span class="sc">;</span>
    <span class="k">if</span> <span class="s">(</span><span class="i">$bold</span><span class="s">)</span> <span class="s">{</span> <span class="i">$formatted</span> .= <span class="q">&quot;&lt;/B&gt;&quot;</span><span class="sc">;</span> <span class="s">}</span>

    <span class="i">$formatted</span> .= <span class="q">&quot;&lt;/Span&gt;&quot;</span><span class="sc">;</span>

    <span class="k">return</span> <span class="i">$formatted</span><span class="sc">;</span>
<span class="s">}</span>

<span class="c">####################</span>
<a name="Print_Page-"></a><span class="k">sub </span><span class="m">Print_Page</span> <span class="s">{</span>
<span class="c">####################</span>
    <span class="c">#</span>
    <span class="c"># Allow link to quickly print out page...</span>
    <span class="c">#</span>
    <span class="k">my</span> <span class="i">$Printout</span> = <span class="k">shift</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$filename</span> = <span class="k">shift</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$title</span>    = <span class="k">shift</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$header</span>   = <span class="k">shift</span><span class="sc">;</span>

    <span class="k">my</span> <span class="i">$OUTFILE</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$path</span><span class="sc">;</span>
    <span class="k">if</span>   <span class="s">(</span> <span class="i">$filename</span> =~ <span class="q">/htdocs\/(.*)/</span> <span class="s">)</span> <span class="s">{</span> <span class="i">$path</span> = <span class="i">$1</span><span class="sc">;</span> <span class="s">}</span>
    <span class="k">else</span>                                 <span class="s">{</span> <span class="i">$path</span> = <span class="i">$filename</span><span class="sc">;</span> <span class="s">}</span>

    <span class="k">if</span> <span class="s">(</span><span class="i">$filename</span><span class="s">)</span> <span class="s">{</span>
        <span class="k">print</span> <span class="i">br</span><span class="s">(</span><span class="s">)</span> . <span class="q">&quot;\n&lt;a href=\&quot;/$path\&quot;&gt;&lt;B&gt;&lt;Font Size=+1&gt;Printout Page&lt;/Font&gt;&lt;/B&gt;&lt;/a&gt;\n&quot;</span><span class="cm">,</span> <span class="q">&quot;&lt;I&gt; (Note: 'RELOAD' new page before printing)&lt;/I&gt;&quot;</span><span class="sc">;</span>
        <span class="k">open</span><span class="s">(</span> <span class="w">OUTFILE</span><span class="cm">,</span> <span class="q">&quot;&gt;$filename&quot;</span> <span class="s">)</span> <span class="k">or</span> <span class="k">print</span> <span class="q">&quot;opening $OUTFILE ($filename) Error&quot;</span><span class="sc">;</span>
        <span class="k">print</span> <span class="i">OUTFILE</span> <span class="i">start_html</span><span class="s">(</span><span class="q">'Popup Window'</span><span class="s">)</span><span class="sc">;</span>
        <span class="k">print</span> <span class="i">OUTFILE</span> <span class="q">&quot;\n$header&quot;</span><span class="sc">;</span>    <span class="c">### insert header to html file here if desired</span>
        <span class="k">print</span> <span class="i">OUTFILE</span> <span class="i">h1</span><span class="s">(</span><span class="i">$title</span><span class="s">)</span><span class="sc">;</span>
        <span class="k">print</span> <span class="i">OUTFILE</span> <span class="i">$Printout</span><span class="sc">;</span>
        <span class="k">print</span> <span class="i">OUTFILE</span> <span class="i">end_html</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>
        <span class="k">close</span><span class="s">(</span><span class="w">OUTFILE</span><span class="s">)</span><span class="sc">;</span>
        <span class="k">return</span><span class="sc">;</span>
    <span class="s">}</span>
    <span class="k">else</span> <span class="s">{</span> <span class="k">print</span> <span class="i">$Printout</span><span class="sc">;</span> <span class="s">}</span>
    <span class="k">return</span><span class="sc">;</span>
<span class="s">}</span>

<span class="c">#####################</span>
<a name="filter_header-"></a><span class="k">sub </span><span class="m">filter_header</span> <span class="s">{</span>
<span class="c">#####################</span>
    <span class="c">#</span>
    <span class="c"># Header bar for sub-sections in Search forms</span>
    <span class="c">#</span>

    <span class="k">my</span> <span class="i">$header</span> = <span class="k">shift</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$p</span><span class="sc">;</span>

    <span class="i">$p</span> .= <span class="q">qq[&lt;table border=&quot;0&quot; cellspacing=&quot;0&quot; cellpadding=&quot;4&quot; width=&quot;100%&quot;&gt;\n]</span><span class="sc">;</span>
    <span class="i">$p</span> .= <span class="q">qq[&lt;tr&gt;\n]</span><span class="sc">;</span>
    <span class="i">$p</span> .= <span class="q">qq[&lt;td valign=&quot;top&quot; class=&quot;lightgreenbw&quot;&gt;\n&lt;span class=&quot;small&quot;&gt;]</span><span class="sc">;</span>
    <span class="i">$p</span> .= <span class="i">$header</span><span class="sc">;</span>
    <span class="i">$p</span> .= <span class="q">qq[&lt;/span&gt;&lt;/td&gt;\n]</span><span class="sc">;</span>
    <span class="i">$p</span> .= <span class="q">qq[&lt;/tr&gt;\n]</span><span class="sc">;</span>
    <span class="i">$p</span> .= <span class="q">qq[&lt;/table&gt;\n\n]</span><span class="sc">;</span>

    <span class="k">return</span> <span class="i">$p</span><span class="sc">;</span>
<span class="s">}</span>

<span class="c">###########################</span>
<a name="Table_Print-"></a><span class="k">sub </span><span class="m">Table_Print</span> <span class="s">{</span>
<span class="c">###########################</span>
    <span class="c">#</span>
    <span class="c"># Prints contents in the webpage framed by an HTML table.</span>
    <span class="c"># Say you want to print the contents '1','2','3' in the first row and '4','5' in the second row, you call the function by Print_Tables([['1','2','3'],['4','5']])</span>
    <span class="c">#</span>
    <span class="k">my</span> <span class="i">%args</span> = <span class="i">@_</span><span class="sc">;</span>

    <span class="k">my</span> <span class="i">@contents</span> = <span class="i">@</span>{ <span class="i">$args</span>{<span class="w">content</span>} }<span class="sc">;</span>

    <span class="k">my</span> <span class="i">$padding</span> = <span class="s">(</span> <span class="k">defined</span> <span class="i">$args</span>{<span class="w">padding</span>} <span class="s">)</span> ? <span class="i">$args</span>{<span class="w">padding</span>} <span class="co">:</span> <span class="n">2</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$spacing</span> = <span class="s">(</span> <span class="k">defined</span> <span class="i">$args</span>{<span class="w">spacing</span>} <span class="s">)</span> ? <span class="i">$args</span>{<span class="w">spacing</span>} <span class="co">:</span> <span class="n">0</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$print</span>   = <span class="s">(</span> <span class="k">defined</span> <span class="i">$args</span>{<span class="w">print</span>} <span class="s">)</span>   ? <span class="i">$args</span>{<span class="w">print</span>}   <span class="co">:</span> <span class="n">1</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$valign</span>      = <span class="i">$args</span>{<span class="w">valign</span>} || <span class="q">'Top'</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$halign</span>      = <span class="i">$args</span>{<span class="w">align</span>}<span class="sc">;</span>
    <span class="k">my</span> <span class="i">$width</span>       = <span class="i">$args</span>{<span class="w">width</span>} || <span class="q">'100%'</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$class</span>       = <span class="i">$args</span>{<span class="w">class</span>}<span class="sc">;</span>
    <span class="k">my</span> <span class="i">$bgcolour</span>    = <span class="i">$args</span>{<span class="w">bgcolour</span>} || <span class="q">'white'</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$colspan</span>     = <span class="i">$args</span>{<span class="w">colspan</span>}<span class="sc">;</span>                                  <span class="c"># Specify the column span.  Format: %colspan-&gt;{row}-&gt;{column} = columns (e.g. %colspan-&gt;{2}-&gt;{1} = 2)</span>
    <span class="k">my</span> <span class="i">$rowspan</span>     = <span class="i">$args</span>{<span class="w">rowspan</span>}<span class="sc">;</span>                                  <span class="c"># Specify the row span.  Format: %rowspan-&gt;{row}-&gt;{column} = rows (e.g. %rowspan-&gt;{2}-&gt;{1} = 2)</span>
    <span class="k">my</span> <span class="i">$cell_colour</span> = <span class="i">$args</span>{<span class="w">cell_colour</span>}<span class="sc">;</span>                              <span class="c"># Specify the colour</span>
    <span class="k">my</span> <span class="i">$border</span>      = <span class="i">$args</span>{<span class="w">border</span>} || <span class="n">0</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$nowrap</span>      = <span class="s">(</span> <span class="k">defined</span> <span class="i">$args</span>{<span class="w">nowrap</span>} <span class="s">)</span> ? <span class="i">$args</span>{<span class="w">nowrap</span>} <span class="co">:</span> <span class="n">1</span><span class="sc">;</span>

    <span class="k">my</span> <span class="i">$wrap</span><span class="sc">;</span>
    <span class="k">if</span> <span class="s">(</span><span class="i">$nowrap</span><span class="s">)</span> <span class="s">{</span> <span class="i">$wrap</span> = <span class="q">&quot; nowrap&quot;</span><span class="sc">;</span> <span class="s">}</span>

    <span class="k">my</span> <span class="i">@alignment</span><span class="sc">;</span>
    <span class="k">if</span> <span class="s">(</span><span class="i">$halign</span><span class="s">)</span> <span class="s">{</span>
        <span class="i">@alignment</span> = <span class="i">@$halign</span><span class="sc">;</span>
    <span class="s">}</span>

    <span class="k">my</span> <span class="i">$class_on</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$class_off</span><span class="sc">;</span>
    <span class="k">if</span> <span class="s">(</span><span class="i">$class</span><span class="s">)</span> <span class="s">{</span>
        <span class="i">$class_on</span>  = <span class="q">&quot;&lt;span class='$class'&gt;&quot;</span><span class="sc">;</span>
        <span class="i">$class_off</span> = <span class="q">&quot;&lt;/span&gt;&quot;</span><span class="sc">;</span>
    <span class="s">}</span>

    <span class="k">my</span> <span class="i">$frame</span> = <span class="q">&quot;\n&lt;table cellspacing='$spacing' cellpadding='$padding' width='$width' border=$border&gt;\n&quot;</span><span class="sc">;</span>

    <span class="k">my</span> <span class="i">$i</span> = <span class="n">1</span><span class="sc">;</span>
    <span class="k">foreach</span> <span class="k">my</span> <span class="i">$row</span> <span class="s">(</span><span class="i">@contents</span><span class="s">)</span> <span class="s">{</span>
        <span class="i">$frame</span> .= <span class="q">&quot;\t&lt;tr bgcolor='$bgcolour' valign='$valign'&gt;\n&quot;</span><span class="sc">;</span>
        <span class="k">my</span> <span class="i">$j</span> = <span class="n">1</span><span class="sc">;</span>
        <span class="k">foreach</span> <span class="k">my</span> <span class="i">$cell</span> <span class="s">(</span> <span class="i">@</span>{<span class="i">$row</span>} <span class="s">)</span> <span class="s">{</span>
            <span class="k">my</span> <span class="i">$span</span> = <span class="q">''</span><span class="sc">;</span>
            <span class="k">my</span> <span class="i">$bgcolour</span><span class="sc">;</span>
            <span class="k">my</span> <span class="i">$align</span><span class="sc">;</span>
            <span class="k">if</span> <span class="s">(</span> <span class="k">exists</span> <span class="i">$colspan</span>-&gt;{<span class="i">$i</span>}-&gt;{<span class="i">$j</span>} <span class="s">)</span> <span class="s">{</span>
                <span class="i">$span</span> .= <span class="q">&quot; colspan='$colspan-&gt;{$i}-&gt;{$j}'&quot;</span><span class="sc">;</span>
            <span class="s">}</span>
            <span class="k">if</span> <span class="s">(</span> <span class="k">exists</span> <span class="i">$rowspan</span>-&gt;{<span class="i">$i</span>}-&gt;{<span class="i">$j</span>} <span class="s">)</span> <span class="s">{</span>
                <span class="i">$span</span> .= <span class="q">&quot; rowspan='$rowspan-&gt;{$i}-&gt;{$j}'&quot;</span><span class="sc">;</span>
            <span class="s">}</span>
            <span class="k">if</span> <span class="s">(</span> <span class="k">exists</span> <span class="i">$cell_colour</span>-&gt;{<span class="i">$i</span>}-&gt;{<span class="i">$j</span>} <span class="s">)</span> <span class="s">{</span>
                <span class="i">$bgcolour</span> = <span class="q">&quot; bgcolor='$cell_colour-&gt;{$i}-&gt;{$j}'&quot;</span><span class="sc">;</span>
            <span class="s">}</span>
            <span class="k">if</span> <span class="s">(</span> <span class="k">exists</span> <span class="i">$alignment</span>[ <span class="i">$j</span> - <span class="n">1</span> ] <span class="s">)</span> <span class="s">{</span>
                <span class="i">$align</span> = <span class="q">&quot; align=$alignment[$j-1]&quot;</span><span class="sc">;</span>
            <span class="s">}</span>
            <span class="k">elsif</span> <span class="s">(</span> <span class="k">exists</span> <span class="i">$alignment</span>[<span class="n">0</span>] <span class="s">)</span> <span class="s">{</span> <span class="i">$align</span> = <span class="q">&quot; align=$alignment[0]&quot;</span> <span class="s">}</span>
            <span class="i">$frame</span> .= <span class="q">&quot;\t\t&lt;td$wrap$span$bgcolour$align&gt;$class_on$cell$class_off&lt;/td&gt;\n&quot;</span><span class="sc">;</span>
            <span class="i">$j</span>++<span class="sc">;</span>
        <span class="s">}</span>
        <span class="i">$frame</span> .= <span class="q">&quot;\t&lt;/tr&gt;\n&quot;</span><span class="sc">;</span>
        <span class="i">$i</span>++<span class="sc">;</span>
    <span class="s">}</span>

    <span class="i">$frame</span> .= <span class="q">&quot;&lt;/table&gt;\n&quot;</span><span class="sc">;</span>

    <span class="k">if</span> <span class="s">(</span><span class="i">$print</span><span class="s">)</span> <span class="s">{</span>
        <span class="k">print</span> <span class="i">$frame</span><span class="sc">;</span>
    <span class="s">}</span>

    <span class="k">return</span> <span class="i">$frame</span><span class="sc">;</span>
<span class="s">}</span>

<span class="c">##############################</span>
<span class="c"># private_methods            #</span>
<span class="c">##############################</span>
<span class="c">##############################</span>
<span class="c"># private_functions          #</span>
<span class="c">##############################</span>
<span class="c">##############################</span>
<span class="c"># main_footer                #</span>
<span class="c">##############################</span>
<span class="c">##############################</span>
<span class="c"># perldoc_footer             #</span>
<span class="c">##############################</span>

</pre><p></p>
<hr />
<h1><a name="known_issues__uplink_">KNOWN ISSUES &lt;UPLINK&gt;</a></h1>
<p>&lt;&lt;KNOWN ISSUES&gt;&gt;</p>
<p>
</p>
<hr />
<h1><a name="future_improvements__uplink_">FUTURE IMPROVEMENTS &lt;UPLINK&gt;</a></h1>
<p>&lt;&lt;FUTURE IMPROVEMENTS&gt;&gt;</p>
<p>
</p>
<hr />
<h1><a name="authors__uplink_">AUTHORS &lt;UPLINK&gt;</a></h1>
<p>&lt;&lt;AUTHORS&gt;&gt;</p>
<p>
</p>
<hr />
<h1><a name="created__uplink_">CREATED &lt;UPLINK&gt;</a></h1>
<p>2003-11-27</p>
<p>
</p>
<hr />
<h1><a name="revision__uplink_">REVISION &lt;UPLINK&gt;</a></h1>
<p>$Id: Views.pm,v 1.22 2004/10/08 00:21:40 rguin Exp $ (Release: $Name:  $)</p>

<pre>
<span class="k">return</span> <span class="n">1</span><span class="sc">;</span>
<a name="EOF-"></a></pre></body>

</html>
